<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha256-wiz7ZSCn/btzhjKDQBms9Hx4sSeUYsDrTLg7roPstac=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.19.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="阶段一：Java基础学习Java的基本语法、面向对象编程（OOP）以及Java集合框架。理解Java的异常处理机制、IO操作、多线程编程和反射等高级特性。学习Java的设计模式，如单例模式、工厂模式、观察者模式等。">
<meta property="og:type" content="article">
<meta property="og:title" content="Java系统架构师学习阶段一：Java基础（语法、异常处理、IO、多线程、反射、设计模式）">
<meta property="og:url" content="http://example.com/2024/04/15/structure/index.html">
<meta property="og:site_name" content="YY&#39;s Garden">
<meta property="og:description" content="阶段一：Java基础学习Java的基本语法、面向对象编程（OOP）以及Java集合框架。理解Java的异常处理机制、IO操作、多线程编程和反射等高级特性。学习Java的设计模式，如单例模式、工厂模式、观察者模式等。">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-04-15T12:00:50.000Z">
<meta property="article:modified_time" content="2024-04-15T11:24:41.435Z">
<meta property="article:author" content="SmallY">
<meta property="article:tag" content="structure">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/2024/04/15/structure/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2024/04/15/structure/","path":"2024/04/15/structure/","title":"Java系统架构师学习阶段一：Java基础（语法、异常处理、IO、多线程、反射、设计模式）"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Java系统架构师学习阶段一：Java基础（语法、异常处理、IO、多线程、反射、设计模式） | YY's Garden</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">YY's Garden</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture1"><span class="nav-text">Lecture1</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="nav-text">面向对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AF%AD%E8%A8%80"><span class="nav-text">面向对象语言</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E8%A6%81%E7%B4%A0"><span class="nav-text">面向对象编程要素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%B4%A0"><span class="nav-text">对象的基本要素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A9%E7%94%A8%E5%B7%B2%E6%9C%89%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89%E6%96%B0%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="nav-text">利用已有类型定义新的类型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture2"><span class="nav-text">Lecture2</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%AD%A5%E9%AA%A4"><span class="nav-text">面向对象编程的基本步骤</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89Java%E7%B1%BB"><span class="nav-text">定义Java类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%B1%BB%E7%9A%84%E5%AF%B9%E8%B1%A1"><span class="nav-text">创建类的对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-text">使用对象的方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%94%80%E6%AF%81%E5%AF%B9%E8%B1%A1"><span class="nav-text">销毁对象</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%95%E7%94%A8"><span class="nav-text">引用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%8D%E5%8F%AF%E5%8F%98%E7%B1%BB%E5%9E%8B"><span class="nav-text">不可变类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8%E4%BD%8D%E7%BD%AE"><span class="nav-text">对象存储位置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture3"><span class="nav-text">Lecture3</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%BA%E5%88%B6%E8%BD%AC%E6%8D%A2%E6%93%8D%E4%BD%9C"><span class="nav-text">强制转换操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84foreach"><span class="nav-text">循环结构foreach</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="nav-text">静态方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E6%95%B0%E6%8D%AE"><span class="nav-text">静态数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%BB%98%E8%AE%A4%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="nav-text">默认访问控制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%93"><span class="nav-text">库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96%E7%BC%96%E7%A8%8B"><span class="nav-text">模块化编程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture4"><span class="nav-text">Lecture4</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD"><span class="nav-text">函数重载</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E8%A3%85%E7%AE%B1-%E6%8B%86%E7%AE%B1"><span class="nav-text">自动装箱&#x2F;拆箱</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#this%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-text">this关键字</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%80%E6%AF%81%E5%AF%B9%E8%B1%A1-1"><span class="nav-text">销毁对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JVM%E5%AE%9E%E7%8E%B0%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6"><span class="nav-text">JVM实现垃圾回收</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%97%E6%B3%951%EF%BC%9A%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0"><span class="nav-text">算法1：引用计数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%97%E6%B3%952%EF%BC%9Astop-and-copy"><span class="nav-text">算法2：stop-and-copy</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%97%E6%B3%953%EF%BC%9Amark-and-sweep"><span class="nav-text">算法3：mark-and-sweep</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%97%E6%B3%954%EF%BC%9A%E4%BA%8C%E8%80%85%E7%BB%93%E5%90%88"><span class="nav-text">算法4：二者结合</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E7%9A%84%E9%A1%BA%E5%BA%8F"><span class="nav-text">初始化的顺序</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">静态成员初始化</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture5"><span class="nav-text">Lecture5</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Java%E5%8C%85"><span class="nav-text">Java包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%8C%85"><span class="nav-text">创建包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="nav-text">访问控制</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#package-access"><span class="nav-text">package access</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#public"><span class="nav-text">public</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#private"><span class="nav-text">private</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#protected"><span class="nav-text">protected</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%E8%A1%A8"><span class="nav-text">权限控制表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="nav-text">类的访问控制</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%81%E8%A3%85"><span class="nav-text">封装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#public-1"><span class="nav-text">public</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#private-1"><span class="nav-text">private</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture6"><span class="nav-text">Lecture6</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E5%A4%8D%E7%94%A8"><span class="nav-text">类的复用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%84%E5%90%88"><span class="nav-text">组合</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF"><span class="nav-text">继承</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture7"><span class="nav-text">Lecture7</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#upcasting"><span class="nav-text">upcasting</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#downcasting"><span class="nav-text">downcasting</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#final%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-text">final关键字</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture8"><span class="nav-text">Lecture8</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#upcasting%E7%AE%80%E5%8C%96%E6%8E%A5%E5%8F%A3"><span class="nav-text">upcasting简化接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E6%80%81"><span class="nav-text">多态</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#upcasting-%E5%A4%9A%E6%80%81%E5%B8%A6%E6%9D%A5%E7%9A%84%E6%89%A9%E5%B1%95%E6%80%A7"><span class="nav-text">upcasting + 多态带来的扩展性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E7%BB%91%E5%AE%9A"><span class="nav-text">动态绑定</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture9"><span class="nav-text">Lecture9</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="nav-text">抽象类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8A%BD%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="nav-text">抽象方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3"><span class="nav-text">接口</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0%E5%A4%9A%E4%B8%AA%E6%8E%A5%E5%8F%A3"><span class="nav-text">实现多个接口</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%A9%E5%B1%95%E6%8E%A5%E5%8F%A3"><span class="nav-text">扩展接口</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3%E9%80%82%E9%85%8D%E5%99%A8"><span class="nav-text">接口适配器</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="nav-text">工厂模式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture10"><span class="nav-text">Lecture10</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E9%83%A8%E7%B1%BB"><span class="nav-text">内部类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%85%E9%83%A8%E7%B1%BB%E4%B8%8E%E5%A4%96%E9%83%A8%E7%B1%BB%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="nav-text">内部类与外部类的关系</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E5%9C%A8%E6%9F%90%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%AD%E7%9A%84%E5%86%85%E9%83%A8%E7%B1%BB"><span class="nav-text">定义在某作用域中的内部类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8C%BF%E5%90%8D%E7%B1%BB"><span class="nav-text">匿名类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B5%8C%E5%A5%97%E7%B1%BB"><span class="nav-text">嵌套类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%85%E9%83%A8%E7%B1%BB%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-text">内部类的作用</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture11"><span class="nav-text">Lecture11</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%B9%E5%99%A8"><span class="nav-text">容器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E7%BB%84"><span class="nav-text">数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ArrayList"><span class="nav-text">ArrayList</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#LinkedList"><span class="nav-text">LinkedList</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture12"><span class="nav-text">Lecture12</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="nav-text">异常处理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8"><span class="nav-text">抛出异常</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8"><span class="nav-text">处理异常</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%82%E5%B8%B8%E5%AF%B9%E8%B1%A1"><span class="nav-text">异常对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E6%96%B9%E6%B3%95%E7%9A%84%E5%BC%82%E5%B8%B8%E8%AF%B4%E6%98%8E"><span class="nav-text">类方法的异常说明</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Java%E6%A0%87%E5%87%86%E5%BC%82%E5%B8%B8"><span class="nav-text">Java标准异常</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture13"><span class="nav-text">Lecture13</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#I-O"><span class="nav-text">I&#x2F;O</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#I-O%E6%B5%81"><span class="nav-text">I&#x2F;O流</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Path%E7%B1%BB%E5%9E%8B"><span class="nav-text">Path类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#File%E7%B1%BB"><span class="nav-text">File类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lecture-14"><span class="nav-text">Lecture 14</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8B"><span class="nav-text">多线程编程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%8D%E5%B0%84"><span class="nav-text">反射</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99"><span class="nav-text">设计原则</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3%E5%8E%9F%E5%88%99"><span class="nav-text">单一职责原则</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99"><span class="nav-text">开闭原则</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%87%8C%E6%B0%8F%E6%9B%BF%E6%8D%A2%E5%8E%9F%E5%88%99"><span class="nav-text">里氏替换原则</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E5%80%92%E8%BD%AC%E5%8E%9F%E5%88%99"><span class="nav-text">依赖倒转原则</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3%E9%9A%94%E7%A6%BB%E5%8E%9F%E5%88%99"><span class="nav-text">接口隔离原则</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%88%E6%88%90%E5%A4%8D%E7%94%A8%E5%8E%9F%E5%88%99"><span class="nav-text">合成复用原则</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%AA%E7%B1%B3%E7%89%B9%E6%B3%95%E5%88%99"><span class="nav-text">迪米特法则</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="nav-text">设计模式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F"><span class="nav-text">工厂方法模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="nav-text">抽象工厂模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="nav-text">建造者模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F"><span class="nav-text">单例模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F"><span class="nav-text">原型模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB-%E5%AF%B9%E8%B1%A1%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="nav-text">类&#x2F;对象适配器模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F"><span class="nav-text">桥接模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F"><span class="nav-text">组合模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F"><span class="nav-text">装饰模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F"><span class="nav-text">代理模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F"><span class="nav-text">外观模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F"><span class="nav-text">享元模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="nav-text">解释器模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F"><span class="nav-text">模板方法模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F"><span class="nav-text">责任链模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"><span class="nav-text">命令模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="nav-text">迭代器模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="nav-text">中介者模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F"><span class="nav-text">备忘录模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="nav-text">观察者模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F"><span class="nav-text">状态模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F"><span class="nav-text">策略模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="nav-text">访问者模式</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">SmallY</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">3</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/04/15/structure/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="SmallY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YY's Garden">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Java系统架构师学习阶段一：Java基础（语法、异常处理、IO、多线程、反射、设计模式） | YY's Garden">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Java系统架构师学习阶段一：Java基础（语法、异常处理、IO、多线程、反射、设计模式）
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2024-04-15 20:00:50 / Modified: 19:24:41" itemprop="dateCreated datePublished" datetime="2024-04-15T20:00:50+08:00">2024-04-15</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><blockquote>
<p>阶段一：Java基础<br>学习Java的基本语法、面向对象编程（OOP）以及Java集合框架。<br>理解Java的异常处理机制、IO操作、多线程编程和反射等高级特性。<br>学习Java的设计模式，如单例模式、工厂模式、观察者模式等。</p>
</blockquote>
<span id="more"></span>

<h2 id="Lecture1"><a href="#Lecture1" class="headerlink" title="Lecture1"></a>Lecture1</h2><h3 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h3><ul>
<li>将实际问题分解为不同的对象</li>
<li>不同的对象提供不同的服务</li>
<li>对象之间可以传递消息</li>
</ul>
<h3 id="面向对象语言"><a href="#面向对象语言" class="headerlink" title="面向对象语言"></a>面向对象语言</h3><ul>
<li>编程语言直接提供了对对象的支持</li>
<li>定义对象 , 对象提供的服务 , 消息传递方法</li>
<li>优点</li>
<li>缩短实际问题到计算机算法的距离</li>
</ul>
<h3 id="面向对象编程要素"><a href="#面向对象编程要素" class="headerlink" title="面向对象编程要素"></a>面向对象编程要素</h3><ol>
<li>任何事物都是对象</li>
<li>程序为一些对象之间的相互协作</li>
<li>一个对象可以包含另一个对象</li>
<li>每个对象都有类型</li>
<li>一种类型的对象接收相同类型的消息，提供相同类型的服务</li>
</ol>
<h3 id="对象的基本要素"><a href="#对象的基本要素" class="headerlink" title="对象的基本要素"></a>对象的基本要素</h3><ul>
<li>状态</li>
<li>行为</li>
<li>类型</li>
</ul>
<h3 id="利用已有类型定义新的类型"><a href="#利用已有类型定义新的类型" class="headerlink" title="利用已有类型定义新的类型"></a>利用已有类型定义新的类型</h3><ul>
<li>复用</li>
<li>组合</li>
<li>继承</li>
</ul>
<h2 id="Lecture2"><a href="#Lecture2" class="headerlink" title="Lecture2"></a>Lecture2</h2><h3 id="面向对象编程的基本步骤"><a href="#面向对象编程的基本步骤" class="headerlink" title="面向对象编程的基本步骤"></a>面向对象编程的基本步骤</h3><ul>
<li>定义类型</li>
<li>创建属于该类型的对象</li>
<li>使用对象的服务</li>
</ul>
<h4 id="定义Java类"><a href="#定义Java类" class="headerlink" title="定义Java类"></a>定义Java类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyType</span>&#123;</span><br><span class="line">	<span class="comment">//数据</span></span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	<span class="type">double</span> d;</span><br><span class="line">	<span class="type">char</span> c;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//方法</span></span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">set</span><span class="params">(<span class="type">double</span> d)</span>;</span><br><span class="line">	<span class="type">double</span> <span class="title function_">get</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="创建类的对象"><a href="#创建类的对象" class="headerlink" title="创建类的对象"></a>创建类的对象</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">MyType</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyType</span>();</span><br></pre></td></tr></table></figure>

<h4 id="使用对象的方法"><a href="#使用对象的方法" class="headerlink" title="使用对象的方法"></a>使用对象的方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> a.i;</span><br><span class="line">a.set(<span class="number">0.5</span>);</span><br><span class="line">a.get();</span><br></pre></td></tr></table></figure>

<h4 id="销毁对象"><a href="#销毁对象" class="headerlink" title="销毁对象"></a>销毁对象</h4><ul>
<li>Java语言会自动销毁对象</li>
</ul>
<h3 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h3><ul>
<li>引用是受限的指针</li>
<li>体现在不允许使用指针运算，以及无法强制类型转换</li>
</ul>
<h3 id="不可变类型"><a href="#不可变类型" class="headerlink" title="不可变类型"></a>不可变类型</h3><ul>
<li>类型的对象一旦创建就不能被改变</li>
<li>例子 String 类 , Integer 类 , Float 类 …</li>
</ul>
<h3 id="对象存储位置"><a href="#对象存储位置" class="headerlink" title="对象存储位置"></a>对象存储位置</h3><ul>
<li>基本类型存储在栈内存</li>
<li>类存放在堆内存</li>
</ul>
<h2 id="Lecture3"><a href="#Lecture3" class="headerlink" title="Lecture3"></a>Lecture3</h2><h3 id="强制转换操作"><a href="#强制转换操作" class="headerlink" title="强制转换操作"></a>强制转换操作</h3><ul>
<li>基本类型</li>
<li>自动转换 : 当转换是安全的 ( 例如 int 转为 double)</li>
<li>显式转换 : 当转换将损失精度 ( 例如 double 转 int)</li>
<li>boolean 类型 不能强制转换</li>
<li>类</li>
<li>一般不允许强制转换（特殊情况下的继承类可以）</li>
</ul>
<h3 id="循环结构foreach"><a href="#循环结构foreach" class="headerlink" title="循环结构foreach"></a>循环结构foreach</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> [ ]a = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i : a)</span><br><span class="line">   System.out.println(i);</span><br></pre></td></tr></table></figure>

<h3 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h3><ul>
<li>定义时加关键字static<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyType</span> &#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="type">double</span> d;</span><br><span class="line">    <span class="type">char</span> c;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(<span class="type">double</span> x)</span> &#123;</span><br><span class="line">        d = x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">double</span> <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> d;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//静态方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String [ ]args)</span> &#123;</span><br><span class="line">        System.out.println(“Hello”);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>不用创建对象就可以被调用的方法</li>
<li>也称为：类方法</li>
</ul>
<h3 id="静态数据"><a href="#静态数据" class="headerlink" title="静态数据"></a>静态数据</h3><ul>
<li>类似于静态方法，不需要实例化即可被调用</li>
<li>可以在类的不同对象中共享</li>
</ul>
<h3 id="默认访问控制"><a href="#默认访问控制" class="headerlink" title="默认访问控制"></a>默认访问控制</h3><ul>
<li>方法默认private</li>
<li>接口默认public</li>
</ul>
<h3 id="库"><a href="#库" class="headerlink" title="库"></a>库</h3><ul>
<li>一组功能相关的类，为其他用户提供服务</li>
</ul>
<h3 id="模块化编程"><a href="#模块化编程" class="headerlink" title="模块化编程"></a>模块化编程</h3><ul>
<li>将任务分解成为简单 , 更容易管理的子任务</li>
<li>优点</li>
<li><ul>
<li>简单</li>
</ul>
</li>
<li><ul>
<li>易于debug</li>
</ul>
</li>
<li><ul>
<li>代码重用</li>
</ul>
</li>
<li><ul>
<li>易于维护</li>
</ul>
</li>
</ul>
<h2 id="Lecture4"><a href="#Lecture4" class="headerlink" title="Lecture4"></a>Lecture4</h2><h3 id="函数重载"><a href="#函数重载" class="headerlink" title="函数重载"></a>函数重载</h3><ul>
<li>根据参数的类型和数量确定方法，而非函数名</li>
<li>优点：接口简洁统一</li>
<li>返回值无法重载</li>
</ul>
<h3 id="自动装箱-拆箱"><a href="#自动装箱-拆箱" class="headerlink" title="自动装箱&#x2F;拆箱"></a>自动装箱&#x2F;拆箱</h3><p>考虑如下代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在-128~127 之外的数</span></span><br><span class="line"> <span class="type">Integer</span> <span class="variable">i1</span> <span class="operator">=</span><span class="number">200</span>;</span><br><span class="line"> <span class="type">Integer</span> <span class="variable">i2</span> <span class="operator">=</span><span class="number">200</span>;</span><br><span class="line"> System.out.println(<span class="string">&quot;i1==i2: &quot;</span>+(i1==i2));</span><br><span class="line"> <span class="comment">// 在-128~127 之内的数</span></span><br><span class="line"> <span class="type">Integer</span> <span class="variable">i3</span> <span class="operator">=</span><span class="number">100</span>;</span><br><span class="line"> <span class="type">Integer</span> <span class="variable">i4</span> <span class="operator">=</span><span class="number">100</span>;</span><br><span class="line"> System.out.println(<span class="string">&quot;i3==i4: &quot;</span>+(i3==i4));</span><br></pre></td></tr></table></figure>
<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i1==i2: false</span><br><span class="line">i3==i4: true</span><br></pre></td></tr></table></figure>

<p>Integer.java源码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title function_">valueOf</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(i &gt;= -<span class="number">128</span> &amp;&amp; i &lt;= <span class="number">127</span>)</span><br><span class="line">        <span class="keyword">return</span> IntegerCache.cache[i + <span class="number">128</span>];</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对于–128到127（默认是127）之间的值，Integer.valueOf(int i) 返回的是缓存的Integer对象（并不是新建对象）<br>所以范例中，i3 与 i4实际上是指向同一个对象。<br>而其他值，执行Integer.valueOf(int i) 返回的是一个新建的 Integer对象，所以范例中，i1与i2 指向的是不同的对象。<br>当然，当不使用自动装箱功能的时候，情况与普通类对象一样。</p>
<h3 id="this关键字"><a href="#this关键字" class="headerlink" title="this关键字"></a>this关键字</h3><ul>
<li>在非静态方法中，返回调用该方法对象的引用</li>
<li>特殊情况，调用构造函数<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyType</span> &#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="type">double</span> d;</span><br><span class="line">    <span class="type">char</span> c;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(<span class="type">double</span> x)</span> &#123; d = x; &#125;</span><br><span class="line">    <span class="type">double</span> <span class="title function_">get</span><span class="params">()</span> &#123; <span class="keyword">return</span> d; &#125;</span><br><span class="line">    MyType(<span class="type">double</span> d) &#123;<span class="built_in">this</span>.d = d;&#125;</span><br><span class="line">    MyType(<span class="type">int</span> i) &#123;<span class="built_in">this</span>.i = i;&#125;</span><br><span class="line">    MyType(<span class="type">int</span> i, <span class="type">double</span> d, <span class="type">char</span> c)&#123;</span><br><span class="line">        <span class="built_in">this</span>(d);</span><br><span class="line">        <span class="built_in">this</span>.i = i; <span class="comment">// can not use this(i) again</span></span><br><span class="line">        <span class="built_in">this</span>.c = c;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String [ ]args)</span> &#123;</span><br><span class="line">        <span class="type">MyType</span> <span class="variable">m</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyType</span>();</span><br><span class="line">        m.set(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>出现在构造函数第一行</li>
<li>只能调用一个构造函数</li>
</ul>
<h3 id="销毁对象-1"><a href="#销毁对象-1" class="headerlink" title="销毁对象"></a>销毁对象</h3><ul>
<li><p>根据对象占有的资源决定自动&#x2F;显式回收</p>
</li>
<li><ul>
<li>new 操作时系统分配的内存（系统自动回收）</li>
</ul>
</li>
<li><ul>
<li>其他资源（程序显式申请）</li>
</ul>
</li>
<li><p>垃圾回收不回收程序显式申请的资源</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Resource</span> &#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    BufferedReader f;</span><br><span class="line">    Resource() &#123; i = <span class="number">0</span>;&#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">open</span><span class="params">()</span> &#123;</span><br><span class="line">       f= <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="keyword">new</span> <span class="title class_">File</span>(“a.txt”)));</span><br><span class="line">    &#125;</span><br><span class="line">    String <span class="title function_">readLine</span><span class="params">()</span> &#123; <span class="keyword">return</span> f.readline();&#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span> &#123;</span><br><span class="line">       f.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String [ ]args)</span> &#123;</span><br><span class="line">    <span class="type">Resource</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Resource</span>();</span><br><span class="line">    r.open();</span><br><span class="line">    <span class="comment">//…</span></span><br><span class="line">    r.close();<span class="comment">//手动回收</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>垃圾回收</p>
</li>
<li><ul>
<li>对象的引用数，指指向该对象的引用的个数</li>
</ul>
</li>
<li><ul>
<li>引用数为0时自动回收<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(“hello”);</span><br><span class="line"><span class="type">String</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(“world”);</span><br><span class="line">s = t;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><ul>
<li>内容为 ‘’hello’’ 的对象可回收，但不会立即被回收</li>
</ul>
</li>
<li><ul>
<li>当 Java 虚拟机 (JVM) 发现内存不够时尝试进行回收</li>
</ul>
</li>
<li><ul>
<li>由 JVM 决定是否回收 , 何时回收 ( 并非实时进行 )</li>
</ul>
</li>
<li><ul>
<li>原因：垃圾回收将占用系统资源，影响用户程序；减少回收频率；</li>
</ul>
</li>
<li><ul>
<li>System.gc() 调用：通知 JVM 可以进行垃圾回收</li>
</ul>
</li>
<li><ul>
<li>类的 finalize() 方法（避免使用）</li>
</ul>
</li>
</ul>
<h3 id="JVM实现垃圾回收"><a href="#JVM实现垃圾回收" class="headerlink" title="JVM实现垃圾回收"></a>JVM实现垃圾回收</h3><h4 id="算法1：引用计数"><a href="#算法1：引用计数" class="headerlink" title="算法1：引用计数"></a>算法1：引用计数</h4><ul>
<li>每个对象包含一个计数器，记录指向改对象的引用数</li>
<li>垃圾收集器检查所有对象，如果引用数为0则删除</li>
<li>缺点</li>
<li><ul>
<li>循环引用<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Dog</span> <span class="variable">newDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line"><span class="type">Tail</span> <span class="variable">newTail</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Tail</span>();</span><br><span class="line">newDog.tail = newTail;</span><br><span class="line">newTail.dog = newDog;</span><br></pre></td></tr></table></figure>
在这里，newTail中拿着对newDog的引用，newDog中拿着对newTail的引用。如果newDog要被回收，前提是newTail被先回收，这样才能释放对newDog的引用。但是反回过来，newTail要被回收的前提是newDog要被先回收。当buildDog函数退出后，看起来垃圾回收管理似乎就始终无法回收这两个实际已经不再需要的对象。</li>
</ul>
</li>
</ul>
<h4 id="算法2：stop-and-copy"><a href="#算法2：stop-and-copy" class="headerlink" title="算法2：stop-and-copy"></a>算法2：stop-and-copy</h4><ul>
<li>找出所有有效的对象（从栈上的引用出发）</li>
<li>每找到一个有效对象，将其拷贝到另外一块内存区域</li>
<li>修改所有引用的值</li>
<li>被垃圾搜集的程序将被停止</li>
<li>缺点<br>这种“复制式回收器”效率会降低，有两个原因，<br>首先，要有两个堆，然后在这两个堆之间倒腾，从而得维护比实际需要的多一倍的时间。<br>在java虚拟机对此问题的处理方式是，分配几块较大的内存，复制动作发生在这些大的内存块之间。</li>
</ul>
<h4 id="算法3：mark-and-sweep"><a href="#算法3：mark-and-sweep" class="headerlink" title="算法3：mark-and-sweep"></a>算法3：mark-and-sweep</h4><p>这种体制同样也要先暂停程序才能进行，它的思想同样追随引用，从堆栈或静态存储区出发，遍历所有的引用，进而找出所有存活对象，找到一个存活对象就标记一个。这个过程不会发生回收任何对象，而是全部标记工作完成后，才会清理未被标记的对象。这个过程不会发生任何复制动作，所以剩下的堆空间是不连续的，垃圾回收器如果希望得到连续空间的话，要重新整理剩下的对象。<br>相对的，当程序产生垃圾较多时，效率较低。</p>
<h4 id="算法4：二者结合"><a href="#算法4：二者结合" class="headerlink" title="算法4：二者结合"></a>算法4：二者结合</h4><ul>
<li>当较容易产生垃圾时: 使用 stop-and-copy</li>
<li>当不容易产生垃圾时: 使用 mark-and-sweep</li>
<li>判断情况</li>
<li><ul>
<li>大多数对象的生存周期较短</li>
</ul>
</li>
<li><ul>
<li>每个对象记录生存周期</li>
</ul>
</li>
<li><ul>
<li>根据生存周期归类</li>
</ul>
</li>
<li><ul>
<li>生存周期较小的对象 : 使用 stop-and-copy</li>
</ul>
</li>
<li><ul>
<li>生存周期较大的对象 : 使用 mark-and-sweep</li>
</ul>
</li>
</ul>
<h3 id="初始化的顺序"><a href="#初始化的顺序" class="headerlink" title="初始化的顺序"></a>初始化的顺序</h3><ul>
<li>所有数据成员初始化在构造函数调用前完成</li>
<li>按照定义的顺序初始化</li>
</ul>
<h4 id="静态成员初始化"><a href="#静态成员初始化" class="headerlink" title="静态成员初始化"></a>静态成员初始化</h4><ul>
<li>当第一个该类型的对象被创建时初始化</li>
<li>后续创建该类型的对象时不初始化</li>
<li>先初始化静态数据成员 , 后初始化对象数据成员</li>
</ul>
<h2 id="Lecture5"><a href="#Lecture5" class="headerlink" title="Lecture5"></a>Lecture5</h2><h3 id="Java包"><a href="#Java包" class="headerlink" title="Java包"></a>Java包</h3><ul>
<li>由多个类组成</li>
<li>多个类共享一个命名空间</li>
</ul>
<h3 id="创建包"><a href="#创建包" class="headerlink" title="创建包"></a>创建包</h3><ul>
<li>package语句</li>
<li><ul>
<li>指定当前 java 文件中的类属于哪一个包</li>
</ul>
</li>
<li>包的结构与文件目录结构一致<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//.\com\runoob\test\Runoob</span><br><span class="line">//文件名:Runoob.java</span><br><span class="line">package com.runoob.test</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="访问控制"><a href="#访问控制" class="headerlink" title="访问控制"></a>访问控制</h3><ul>
<li>类 : 数据 + 方法</li>
<li>公开的数据和方法<br>  ● 提供服务<br>  ● 所有用户都可以使用<br>  ● 需要保持稳定 , 不经常变化</li>
<li>隐藏的数据和方法<br>  ● 细节的 , 辅助性的方法和数据<br>  ● 不向用户公开<br>  ● 易变</li>
</ul>
<h4 id="package-access"><a href="#package-access" class="headerlink" title="package access"></a>package access</h4><ul>
<li>一个类的成员被标识为 package access</li>
<li><ul>
<li>同一个包中的类可以访问</li>
</ul>
</li>
<li><ul>
<li>其他包中的类不能访问</li>
</ul>
</li>
<li>没有标识符</li>
<li>如果没有 package 语句 , java 默认当前目录中的 java文件属于同一个包</li>
</ul>
<h4 id="public"><a href="#public" class="headerlink" title="public"></a>public</h4><ul>
<li>类的成员标识为 public，则所有用户都能访问该成员</li>
</ul>
<h4 id="private"><a href="#private" class="headerlink" title="private"></a>private</h4><ul>
<li>类的成员标识为 private，则除了该类自身外的所有类都无法访问该成员</li>
</ul>
<h4 id="protected"><a href="#protected" class="headerlink" title="protected"></a>protected</h4><ul>
<li>开放继承类的权限</li>
</ul>
<h4 id="权限控制表"><a href="#权限控制表" class="headerlink" title="权限控制表"></a>权限控制表</h4><table>
<thead>
<tr>
<th>修饰词</th>
<th>本类</th>
<th>同一个包的类</th>
<th>继承类</th>
<th>其他类</th>
</tr>
</thead>
<tbody><tr>
<td>private</td>
<td>√</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>无（默认）</td>
<td>√</td>
<td>√</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>protected</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>×</td>
</tr>
<tr>
<td>public</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>√</td>
</tr>
</tbody></table>
<h4 id="类的访问控制"><a href="#类的访问控制" class="headerlink" title="类的访问控制"></a>类的访问控制</h4><ul>
<li>public class</li>
<li><ul>
<li>每个 .java 文件包含一个 public class</li>
</ul>
</li>
<li><ul>
<li>该 class 的名字等于 .java 文件名</li>
</ul>
</li>
<li>package access class</li>
<li><ul>
<li>每个 .java 文件中除去 public class 外 , 其他的 class为 package access</li>
</ul>
</li>
</ul>
<h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><ul>
<li>访问控制的设计</li>
</ul>
<h3 id="public-1"><a href="#public-1" class="headerlink" title="public"></a>public</h3><ul>
<li>提供服务，稳定</li>
<li>修改 public 成员将影响用户程序</li>
</ul>
<h3 id="private-1"><a href="#private-1" class="headerlink" title="private"></a>private</h3><ul>
<li><p>提供辅助，易变</p>
</li>
<li><p>修改 private 成员是安全的</p>
</li>
<li><p>满足需求的情况下，接口尽可能简单</p>
</li>
<li><p>尽量使用 private 访问控制</p>
</li>
</ul>
<h2 id="Lecture6"><a href="#Lecture6" class="headerlink" title="Lecture6"></a>Lecture6</h2><h3 id="类的复用"><a href="#类的复用" class="headerlink" title="类的复用"></a>类的复用</h3><ul>
<li>组合</li>
<li>继承</li>
</ul>
<h4 id="组合"><a href="#组合" class="headerlink" title="组合"></a>组合</h4><ul>
<li>将已有类的对象作为新类的数据成员</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MyType</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyType</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> i;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> d;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">char</span> c;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(<span class="type">double</span> x)</span> &#123; d = x;&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">get</span><span class="params">()</span> &#123; <span class="keyword">return</span> d; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//MyCompType</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyCompType</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">MyType</span> <span class="variable">m</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyType</span>();</span><br><span class="line">    <span class="keyword">private</span> String s;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyCompType</span><span class="params">()</span>&#123;</span><br><span class="line">        s = <span class="keyword">new</span> <span class="title class_">String</span>(“Hello”);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h4><ul>
<li>子类有父类所有的方法和数据</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyType</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> i;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> d;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">char</span> c;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(<span class="type">double</span> x)</span> &#123; d = x;&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">get</span><span class="params">()</span> &#123; <span class="keyword">return</span> d; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MySubType</span> <span class="keyword">extends</span> <span class="title class_">MyType</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span>&#123;</span><br><span class="line">    	<span class="type">MySubType</span> <span class="variable">ms</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MySubType</span>();</span><br><span class="line">    	ms.set(<span class="number">1.0</span>);</span><br><span class="line">    	System.out.println(ms.get());</span><br><span class="line">    	System.out.println(ms.i);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>子类可以定义新的方法和数据</li>
<li>子类可以更新父类的方法，称为重写 (overriding)</li>
<li>定义子类时，创建一个新的类，包含一个父类的对象作为数据成员</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MySubType</span> <span class="keyword">extends</span> <span class="title class_">MyType</span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    public MyType m;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> string s;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">childMethods</span><span class="params">()</span> &#123;...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>子类的对象包含一个隐藏的父类对象，通过 super 引用父类的对象</li>
<li>当方法被重写时，可以通过 super 调用父类的方法</li>
</ul>
<h2 id="Lecture7"><a href="#Lecture7" class="headerlink" title="Lecture7"></a>Lecture7</h2><h3 id="upcasting"><a href="#upcasting" class="headerlink" title="upcasting"></a>upcasting</h3><ul>
<li>不同类型的对象之间无法做赋值运算</li>
<li>子类类型的对象可以赋值给父类</li>
<li>子类是一种父类 “is-a”关系</li>
<li>upcasting 例子</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Instrument</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">tune</span><span class="params">(Instrument i)</span> &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        i.play();</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Wind</span> <span class="keyword">extends</span> <span class="title class_">Instrument</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Wind</span> <span class="variable">flute</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Wind</span>();</span><br><span class="line">        Instrument.tune(flute);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>上面例子中，flute是Instrument子类的引用，可以当作Instrument类型的引用</li>
<li>需要父类对象的地方可以用子类对象带入</li>
<li>一种安全的类型转换</li>
</ul>
<h3 id="downcasting"><a href="#downcasting" class="headerlink" title="downcasting"></a>downcasting</h3><ul>
<li>父类对象的引用赋值给子类对象的引用</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MySubType</span> <span class="keyword">extends</span> <span class="title class_">MyType</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(<span class="type">double</span> x)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;sub class&quot;</span>);</span><br><span class="line">        d = x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MySubType</span> <span class="variable">ms</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MySubType</span>();</span><br><span class="line">        ms.set(<span class="number">1.0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">MyType</span> <span class="variable">m</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyType</span>();</span><br><span class="line">		<span class="comment">//downcasting 无法通过编译</span></span><br><span class="line">        <span class="type">MySubType</span> <span class="variable">n</span> <span class="operator">=</span> (MySubType) m;</span><br><span class="line">        n.set(<span class="number">1.0</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>可以通过编译的情况：将子类对象的引用先赋值给父类类型的引用，然后将此变量强制类型转换为子类对象</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MySubType</span> <span class="keyword">extends</span> <span class="title class_">MyType</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(<span class="type">double</span> x)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;sub class&quot;</span>);</span><br><span class="line">        d = x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MySubType</span> <span class="variable">ms</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MySubType</span>();</span><br><span class="line">        ms.set(<span class="number">1.0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">MyType</span> <span class="variable">m</span> <span class="operator">=</span> ms;</span><br><span class="line">		m.set(<span class="number">1.0</span>);</span><br><span class="line">		<span class="comment">//downcasting 可以通过编译</span></span><br><span class="line">        <span class="type">MySubType</span> <span class="variable">n</span> <span class="operator">=</span> (MySubType) m;</span><br><span class="line">        n.set(<span class="number">1.0</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>总结：父类的引用可以指向子类的对象</li>
</ul>
<h3 id="final关键字"><a href="#final关键字" class="headerlink" title="final关键字"></a>final关键字</h3><ul>
<li>基本意义为：无法改变</li>
<li>一旦被赋值就无法被修改</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyType</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> i;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="type">double</span> <span class="variable">d</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">char</span> c;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">get</span><span class="params">()</span> &#123; <span class="keyword">return</span> d; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(<span class="type">double</span> x)</span> &#123;d = x;&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span>&#123;</span><br><span class="line">        <span class="type">MyType</span> <span class="variable">m</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyType</span>();</span><br><span class="line">        <span class="comment">// m.d = 2.0; error</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用final方法的原因有两个。第一个原因是把方法锁定，以防任何继承类修改它的含义；第二个原因是效率。在早期的Java实现版本中，会将final方法转为内嵌调用。但是如果方法过于庞大，可能看不到内嵌调用带来的任何性能提升。在最近的Java版本中，不需要使用final方法进行这些优化了。</p>
<p>final关键字修饰方法，它表示该方法不能被覆盖（重写）。另外，类中所有的private方法都隐式地指定为是final的，由于无法在类外使用private方法，所以也就无法覆盖它。此时可以在子类中定义相同的方法名和参数，这种情况不再产生重写与final的矛盾，而是在子类中重新定义了新的方法。可以对private方法添加final修饰符，但并没有添加任何额外意义。</p>
<p>final关键字修饰类，表示该类无法被继承。</p>
<p>对于一个final变量，如果是基本数据类型的变量，则其数值一旦在初始化之后便不能更改；如果是引用类型的变量，则在对其初始化之后便不能再让其指向另一个对象。</p>
<ul>
<li><p>编译期间为常量，而非引用</p>
</li>
<li><p>引用变量被final修饰之后，虽然不能再指向其他对象，但是它指向的对象的内容是可变的</p>
</li>
<li><p>final 成员在定义时可以不给初值，但必须在构造函数中初始化</p>
</li>
</ul>
<h2 id="Lecture8"><a href="#Lecture8" class="headerlink" title="Lecture8"></a>Lecture8</h2><h3 id="upcasting简化接口"><a href="#upcasting简化接口" class="headerlink" title="upcasting简化接口"></a>upcasting简化接口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Instrument</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">(<span class="type">int</span> note)</span> &#123;</span><br><span class="line">        System.out.println(“Instrument.play()” + n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Wind</span> <span class="keyword">extends</span> <span class="title class_">Instrument</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">(<span class="type">int</span> note)</span> &#123;</span><br><span class="line">        System.out.println(“Wind.play()” + n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Stringed</span> <span class="keyword">extends</span> <span class="title class_">Instrument</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">(<span class="type">int</span> note)</span> &#123;</span><br><span class="line">        System.out.println(“Stringed.play()” + n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Brass</span> <span class="keyword">extends</span> <span class="title class_">Instrument</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">(<span class="type">int</span> note)</span> &#123;</span><br><span class="line">        System.out.println(“Brass.play()” + n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Without upcasting</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">public class Music &#123;</span></span><br><span class="line"><span class="comment">    public static void tune(Wind i) &#123;</span></span><br><span class="line"><span class="comment">        i.play();</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    public static void tune(Stringed i) &#123;</span></span><br><span class="line"><span class="comment">        i.play();</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    public static void tune(Brass i) &#123;</span></span><br><span class="line"><span class="comment">        i.play();</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    public static void main(String []args)&#123;</span></span><br><span class="line"><span class="comment">        Wind flute = new Wind();</span></span><br><span class="line"><span class="comment">        Stringed violin = new Stringed();</span></span><br><span class="line"><span class="comment">        Brass frenchHorn = new Brass();</span></span><br><span class="line"><span class="comment">        tune(flute);</span></span><br><span class="line"><span class="comment">        tune(violin);</span></span><br><span class="line"><span class="comment">        tune(frenchHorn);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//With upcasting</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">public class Music &#123;</span></span><br><span class="line"><span class="comment">    public static void tune(Wind i) &#123;</span></span><br><span class="line"><span class="comment">        i.play();</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    public static void tune(Stringed i) &#123;</span></span><br><span class="line"><span class="comment">        i.play();</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    public static void tune(Brass i) &#123;</span></span><br><span class="line"><span class="comment">        i.play();</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    public static void main(String []args)&#123;</span></span><br><span class="line"><span class="comment">        Wind flute = new Wind();</span></span><br><span class="line"><span class="comment">        Stringed violin = new Stringed();</span></span><br><span class="line"><span class="comment">        Brass frenchHorn = new Brass();</span></span><br><span class="line"><span class="comment">        tune(flute);</span></span><br><span class="line"><span class="comment">        tune(violin);</span></span><br><span class="line"><span class="comment">        tune(frenchHorn);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<ul>
<li>接口更加简洁</li>
<li>tune方法能正确调用对应的重写 (override) 后的子类方法</li>
</ul>
<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><ul>
<li>如上例，参数 Instrument i 可以代表不同的子类 , 并能正确调用它们的方法 ( 即有多种表现形态)</li>
<li>静态绑定(static binding)：函数的位置在编译时确定</li>
<li>动态绑定(dynamic binding)：函数的位置在运行时才能确定</li>
</ul>
<h4 id="upcasting-多态带来的扩展性"><a href="#upcasting-多态带来的扩展性" class="headerlink" title="upcasting + 多态带来的扩展性"></a>upcasting + 多态带来的扩展性</h4><ul>
<li>增加新的接口不影响原有的只依赖于旧接口的代码</li>
</ul>
<h4 id="动态绑定"><a href="#动态绑定" class="headerlink" title="动态绑定"></a>动态绑定</h4><ul>
<li>Java中所有的方法都采用动态绑定，除了static和final</li>
<li>数据成员不使用动态绑定</li>
<li>构造函数中不能使用重写函数</li>
</ul>
<h2 id="Lecture9"><a href="#Lecture9" class="headerlink" title="Lecture9"></a>Lecture9</h2><h3 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h3><h4 id="抽象方法"><a href="#抽象方法" class="headerlink" title="抽象方法"></a>抽象方法</h4><ul>
<li>仅提供方法的名称，参数列表，和返回值</li>
<li>没有具体实现</li>
<li>使用abstract关键字</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Instrument</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">(<span class="type">int</span> note)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>无法直接创建抽象类的对象</li>
<li>抽象方法需要在子类中补足定义才有意义</li>
<li>若子类没有重写父类中的抽象方法，子类仍为抽象类</li>
</ul>
<h3 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h3><ul>
<li>所有方法都是抽象方法</li>
<li>只有方法的名称，参数和返回值</li>
<li>没有方法的实现</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Instrument</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">play</span><span class="params">(<span class="type">int</span> note)</span> ;</span><br><span class="line">    String <span class="title function_">what</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>没有代码重用，只保留upcasting和多态</p>
</li>
<li><p>所有实现该接口的类都具有接口提供的方法</p>
</li>
<li><p>任何使用该接口类型的方法 , 都可以使用他的任何一种实现</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Stringed</span> <span class="keyword">implements</span> <span class="title class_">Instrument</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">(<span class="type">int</span> note)</span> &#123;</span><br><span class="line">        System.out.println(“Stringed.play()” + n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">what</span><span class="params">()</span> &#123;<span class="keyword">return</span> “Stringed”;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>所有方法默认为public</li>
<li>所有数据默认为final static</li>
</ul>
<h4 id="实现多个接口"><a href="#实现多个接口" class="headerlink" title="实现多个接口"></a>实现多个接口</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Plane</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Boat</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">sail</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Seaplane</span> <span class="keyword">implements</span> <span class="title class_">Plane</span>, Boat &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(“Fly!”);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sail</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(“Sail!”);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>多继承问题：一个类的父类只能有一个普通类&#x2F;抽象类</p>
</li>
<li><p>一个类无法继承拥有不同函数（却有相同函数名）的不同接口</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">I1</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">f</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">I2</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">f</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">I3</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">f</span><span class="params">(<span class="type">int</span> i)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">I4</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">f</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C1</span> <span class="keyword">implements</span> <span class="title class_">I1</span>, I2&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">f</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C2</span> <span class="keyword">implements</span> <span class="title class_">I1</span>, I3&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">f</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">f</span><span class="params">(<span class="type">int</span> i)</span> &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* compile error: return type incompatible</span></span><br><span class="line"><span class="comment">class C2 implements I1, I4&#123;</span></span><br><span class="line"><span class="comment">    public void f() &#123;&#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h4 id="扩展接口"><a href="#扩展接口" class="headerlink" title="扩展接口"></a>扩展接口</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">A</span> &#123;</span><br><span class="line"> …</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span>&#123;</span><br><span class="line"> …</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">D</span> &#123;</span><br><span class="line"> …</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">D</span> <span class="keyword">extends</span> <span class="title class_">A</span>, C&#123;</span><br><span class="line"> …</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="接口适配器"><a href="#接口适配器" class="headerlink" title="接口适配器"></a>接口适配器</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">walk</span><span class="params">()</span>&#123;&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buyTicket</span><span class="params">()</span>&#123;&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">takeFlight</span><span class="params">()</span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PersonAdapter</span> <span class="keyword">implements</span> <span class="title class_">CanFly</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Person p;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">PersonAdapter</span><span class="params">(Person p)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.p = p;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span>&#123;</span><br><span class="line">        p.buyTicket();</span><br><span class="line">        p.takeFlight();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">CanFly</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Adventure</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">travel</span><span class="params">(CanFly c)</span> &#123;</span><br><span class="line">        c.fly();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span>&#123;</span><br><span class="line">        <span class="type">Bird</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Bird</span>();</span><br><span class="line">        <span class="type">Insect</span> <span class="variable">ins</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Insect</span>();</span><br><span class="line">        travel(b); travel(ins);</span><br><span class="line"></span><br><span class="line">        <span class="type">Person</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        <span class="type">PersonAdapter</span> <span class="variable">pd</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PersonAdapter</span>(p);</span><br><span class="line">        travel(pd);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>在PersonAdapter中组合Person和接口方法，使得接口方法能够使用Person这一类型</li>
</ul>
<h3 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h3><ul>
<li>定义一个Factory接口，通过这个接口，根据用户需求创建类</li>
</ul>
<h2 id="Lecture10"><a href="#Lecture10" class="headerlink" title="Lecture10"></a>Lecture10</h2><h3 id="内部类"><a href="#内部类" class="headerlink" title="内部类"></a>内部类</h3><ul>
<li>定义在一个类的内部，与组合不同</li>
</ul>
<h4 id="内部类与外部类的关系"><a href="#内部类与外部类的关系" class="headerlink" title="内部类与外部类的关系"></a>内部类与外部类的关系</h4><ul>
<li><p>内部类隐藏了一个指向外部类对象的引用</p>
</li>
<li><p>访问外部类对象的引用：OuterClassName.this</p>
</li>
<li><p>在外部类中创建引用：直接创建</p>
</li>
<li><p>在其他地方创建内部类的引用：OuterClassName.new</p>
</li>
<li><p>内部类通常实现某个接口&#x2F;继承某个类</p>
</li>
</ul>
<h4 id="定义在某作用域中的内部类"><a href="#定义在某作用域中的内部类" class="headerlink" title="定义在某作用域中的内部类"></a>定义在某作用域中的内部类</h4><ul>
<li>作用域外不可见</li>
<li>也称为local inner class</li>
</ul>
<h4 id="匿名类"><a href="#匿名类" class="headerlink" title="匿名类"></a>匿名类</h4><ul>
<li>没有名字的内部类</li>
<li>必须继承某个类，或者某个接口</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Parcel</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> Contents <span class="title function_">contents</span><span class="params">()</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Contents</span>() &#123;</span><br><span class="line">		    <span class="comment">// anonymous inner class definition</span></span><br><span class="line">			<span class="keyword">private</span> <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">11</span>;</span><br><span class="line">			<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">value</span><span class="params">()</span> &#123;<span class="keyword">return</span> i;&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span>&#123;</span><br><span class="line">        <span class="type">Parcel</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Parcel</span>();</span><br><span class="line">        <span class="type">Contents</span> <span class="variable">c</span> <span class="operator">=</span> p.contents();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>必须使用final的外部变量对成员进行初始化（可以不初始化，但初始化必须要final）</li>
</ul>
<h4 id="嵌套类"><a href="#嵌套类" class="headerlink" title="嵌套类"></a>嵌套类</h4><ul>
<li>不包含指向外部类对象的引用</li>
<li>无法访问外部类的非静态成员</li>
</ul>
<h4 id="内部类的作用"><a href="#内部类的作用" class="headerlink" title="内部类的作用"></a>内部类的作用</h4><ul>
<li><p>多继承</p>
</li>
<li><p>可以通过多个内部类继承多个类&#x2F;接口</p>
</li>
<li><p>同一个内部类可以有多个实例 , 每个实例有不同的状态</p>
</li>
<li><p>对同一接口 , 可以有不同的内部类实现</p>
</li>
<li><p>创建内部类对象可以按需创建</p>
</li>
<li><p>不必遵从 is-a 关系</p>
</li>
</ul>
<h2 id="Lecture11"><a href="#Lecture11" class="headerlink" title="Lecture11"></a>Lecture11</h2><h3 id="容器"><a href="#容器" class="headerlink" title="容器"></a>容器</h3><h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> [ ] a = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">MyType [ ] b = <span class="keyword">new</span> <span class="title class_">MyType</span>[<span class="number">3</span>];</span><br><span class="line">MyType [ ] c = <span class="keyword">new</span> <span class="title class_">MyType</span>[<span class="number">3</span>] &#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">MyType</span>(),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">MyType</span>(),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">MyType</span>() </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>长度不可变，无法添加删除元素</li>
</ul>
<h4 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line">ArrayList&lt;String&gt; a = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line"><span class="comment">// 插入 add(Object o)</span></span><br><span class="line">a.add(“rat”); a.add(“cat”); a.add(“dog”); a.add(“dog”);</span><br><span class="line"><span class="comment">// 查询 contains (Object o)</span></span><br><span class="line">System.out.println(a.contains(“cat”));</span><br><span class="line"><span class="comment">// 删除 remove(Object o) ( 若不在 List 中 , 返回 false, 否则返回 true)</span></span><br><span class="line">a.remove(“dog”); a.remove(“dag”);</span><br><span class="line"><span class="comment">// 访问第 i 个元素 : get(int)</span></span><br><span class="line">a.get(<span class="number">0</span>);</span><br><span class="line"><span class="comment">// 对象的数量 : size()</span></span><br><span class="line">a.size();</span><br><span class="line"><span class="comment">// 序号 indexOf</span></span><br><span class="line">a.indexOf(“cat”);</span><br><span class="line"><span class="comment">// 子表 subList(int fromIndex, int toIndex)</span></span><br><span class="line">List&lt;String&gt; sub = a.subList(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="comment">// 是否为空 isEmpty()</span></span><br><span class="line">System.out.println(a.isEmpty());</span><br><span class="line"><span class="comment">// 返回迭代器 iterator()</span></span><br><span class="line"><span class="type">Iterator</span> <span class="variable">it</span> <span class="operator">=</span> a.iterator();</span><br><span class="line"><span class="comment">// 返回 List 迭代器 listIterator()</span></span><br><span class="line"><span class="type">ListIterator</span> <span class="variable">lit</span> <span class="operator">=</span> a.listIterator();</span><br><span class="line"><span class="comment">// 转为数组</span></span><br><span class="line">String [] aarray = a.toArray();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>排序</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RunoobTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        ArrayList&lt;String&gt; sites = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">        sites.add(<span class="string">&quot;Taobao&quot;</span>);</span><br><span class="line">        sites.add(<span class="string">&quot;Wiki&quot;</span>);</span><br><span class="line">        sites.add(<span class="string">&quot;Runoob&quot;</span>);</span><br><span class="line">        sites.add(<span class="string">&quot;Weibo&quot;</span>);</span><br><span class="line">        sites.add(<span class="string">&quot;Google&quot;</span>);</span><br><span class="line">        Collections.sort(sites);  <span class="comment">// 字母排序</span></span><br><span class="line">        <span class="keyword">for</span> (String i : sites) &#123;</span><br><span class="line">            System.out.println(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="LinkedList"><a href="#LinkedList" class="headerlink" title="LinkedList"></a>LinkedList</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RunoobTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        LinkedList&lt;String&gt; sites = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;String&gt;();</span><br><span class="line">        sites.add(<span class="string">&quot;Google&quot;</span>);</span><br><span class="line">        sites.add(<span class="string">&quot;Runoob&quot;</span>);</span><br><span class="line">        sites.add(<span class="string">&quot;Taobao&quot;</span>);</span><br><span class="line">        <span class="comment">// 使用 addFirst() 在头部添加元素</span></span><br><span class="line">        sites.addFirst(<span class="string">&quot;Wiki&quot;</span>);</span><br><span class="line">		sites.addLast(<span class="string">&quot;Wiki&quot;</span>);</span><br><span class="line">        System.out.println(sites);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//result: [Wiki, Google, Runoob, Taobao, Wiki]</span></span><br></pre></td></tr></table></figure>

<p>其余容器可以查看<br><a target="_blank" rel="noopener" href="https://www.runoob.com/java/java-hashmap.html">https://www.runoob.com/java/java-hashmap.html</a></p>
<h2 id="Lecture12"><a href="#Lecture12" class="headerlink" title="Lecture12"></a>Lecture12</h2><h3 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h3><h4 id="抛出异常"><a href="#抛出异常" class="headerlink" title="抛出异常"></a>抛出异常</h4><ul>
<li>检查错误条件</li>
<li>throw关键字<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">If (t == <span class="literal">null</span>)</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>();</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="处理异常"><a href="#处理异常" class="headerlink" title="处理异常"></a>处理异常</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"> <span class="comment">// 可能会抛出异常的代码</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (Type1Exception e)&#123;</span><br><span class="line"> <span class="comment">// 处理类型为 &quot;Type1Exception&quot; 的异常</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (Type2Exception e)&#123;</span><br><span class="line"> <span class="comment">// 处理类型为 &quot;Type2Exception&quot; 的异常</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (Type3Exception e)&#123;</span><br><span class="line"> <span class="comment">// 处理类型为 &quot;Type3Exception&quot; 的异常</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h4 id="异常对象"><a href="#异常对象" class="headerlink" title="异常对象"></a>异常对象</h4><ul>
<li>Exception的子类</li>
<li>含有toString(), printStackTrace()方法</li>
<li>通常不需要重写 Exception 类中的任何方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SimpleException</span> <span class="keyword">extends</span> <span class="title class_">Exception</span> &#123; &#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InheritingExceptions</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;Throw SimpleException from f()&quot;</span>);</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">SimpleException</span>();</span><br><span class="line">		&#125; <span class="keyword">catch</span>(SimpleException e) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;Caught it!&quot;</span>);</span><br><span class="line">			System.out.println(e);</span><br><span class="line">			System.out.println(e.printStackTrace(System.out));</span><br><span class="line">		&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="类方法的异常说明"><a href="#类方法的异常说明" class="headerlink" title="类方法的异常说明"></a>类方法的异常说明</h4><ul>
<li>标识该方法抛出什么样的异常</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">bar() <span class="keyword">throws</span> Type1Exception, Type2Exception&#123;</span><br><span class="line">    …</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Type1Exception</span> ();</span><br><span class="line">    …</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Type2Exception</span> ();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果方法使用了 throws 关键字，则在该方法的调用处必须要处理相应的异常，否则编译不通过。</p>
<ul>
<li>包含 throws 关键字 , 但函数本身并不抛出相应异常</li>
<li><ul>
<li>用于 interface, abstract method</li>
</ul>
</li>
<li><ul>
<li>保证重写的方法必须考虑所列出的异常</li>
</ul>
</li>
<li>不包含 throws 关键字，默认会抛出 RuntimeException 类型的异常</li>
</ul>
<h3 id="Java标准异常"><a href="#Java标准异常" class="headerlink" title="Java标准异常"></a>Java标准异常</h3><ul>
<li>都为 Exception 类的子类</li>
<li>通过名字知道种类</li>
</ul>
<h2 id="Lecture13"><a href="#Lecture13" class="headerlink" title="Lecture13"></a>Lecture13</h2><h3 id="I-O"><a href="#I-O" class="headerlink" title="I&#x2F;O"></a>I&#x2F;O</h3><h4 id="I-O流"><a href="#I-O流" class="headerlink" title="I&#x2F;O流"></a>I&#x2F;O流</h4><ul>
<li>数据的流向</li>
<li><ul>
<li>外界数据进入程序</li>
</ul>
</li>
<li><ul>
<li>程序数据进入外界</li>
</ul>
</li>
<li>数据的内容</li>
<li><ul>
<li>字节</li>
</ul>
</li>
<li><ul>
<li>文件</li>
</ul>
</li>
<li><ul>
<li>字符串</li>
</ul>
</li>
<li><ul>
<li>对象</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">fileOutput</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">	<span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;hello world!&quot;</span>;</span><br><span class="line">	<span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;d:\\test2.txt&quot;</span>); <span class="comment">// 创建文件</span></span><br><span class="line">	<span class="keyword">if</span>(!file.exists())&#123;</span><br><span class="line">		file.createNewFile(); <span class="comment">// 如果文件不存在，则进行创建</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">FileOutputStream</span> <span class="variable">fOutput</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file);</span><br><span class="line">	<span class="type">BufferedOutputStream</span> <span class="variable">bOutput</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(fOutput);</span><br><span class="line">	<span class="type">byte</span>[] buffer = str.getBytes(); <span class="comment">// 将字符串文本转换成字节数组</span></span><br><span class="line">	bOutput.write(buffer);</span><br><span class="line">	bOutput.close();</span><br><span class="line">	fOutput.close();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">fileInput</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">	<span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;d:\\test2.txt&quot;</span>); <span class="comment">// 创建文件</span></span><br><span class="line">	<span class="type">FileInputStream</span> <span class="variable">finput</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line">	<span class="type">BufferedInputStream</span> <span class="variable">bfinput</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(finput);</span><br><span class="line">	<span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>((temp = bfinput.read())!= -<span class="number">1</span>)&#123; <span class="comment">// 当 temp 为 -1 时，数据读取完毕</span></span><br><span class="line">		System.out.print((<span class="type">char</span>)temp);</span><br><span class="line">	&#125;</span><br><span class="line">	bfinput.close();</span><br><span class="line">	finput.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Path类型"><a href="#Path类型" class="headerlink" title="Path类型"></a>Path类型</h3><ul>
<li>创建path类型</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Path</span> <span class="variable">p1</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;C:/Document/tmp/Hello.java&quot;</span>);</span><br><span class="line"><span class="type">Path</span> <span class="variable">p2</span> <span class="operator">=</span> FileSystems.getDefault().getPath(<span class="string">&quot;C:/Document/tmp/Hello.java&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Microsoft Windows syntax</span></span><br><span class="line"><span class="type">Path</span> <span class="variable">path</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;C:\\home\\joe\\foo&quot;</span>);</span><br><span class="line"><span class="comment">// Solaris syntax</span></span><br><span class="line"><span class="comment">// Path path = Paths.get(&quot;/home/joe/foo&quot;);</span></span><br><span class="line">System.out.format(<span class="string">&quot;toString: %s%n&quot;</span>, path.toString());</span><br><span class="line">System.out.format(<span class="string">&quot;getFileName: %s%n&quot;</span>, path.getFileName());</span><br><span class="line">System.out.format(<span class="string">&quot;getName(0): %s%n&quot;</span>, path.getName(<span class="number">0</span>));</span><br><span class="line">System.out.format(<span class="string">&quot;getNameCount: %d%n&quot;</span>, path.getNameCount());</span><br><span class="line">System.out.format(<span class="string">&quot;subpath(0,2): %s%n&quot;</span>, path.subpath(<span class="number">0</span>,<span class="number">2</span>));</span><br><span class="line">System.out.format(<span class="string">&quot;getParent: %s%n&quot;</span>, path.getParent());</span><br><span class="line">System.out.format(<span class="string">&quot;getRoot: %s%n&quot;</span>, path.getRoot());</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="File类"><a href="#File类" class="headerlink" title="File类"></a>File类</h3><p>参考<a target="_blank" rel="noopener" href="https://www.runoob.com/java/java-files-io.html">https://www.runoob.com/java/java-files-io.html</a></p>
<h2 id="Lecture-14"><a href="#Lecture-14" class="headerlink" title="Lecture 14"></a>Lecture 14</h2><h3 id="多线程编程"><a href="#多线程编程" class="headerlink" title="多线程编程"></a>多线程编程</h3><p>多线程的创建方式一：继承Thread类</p>
<ol>
<li>定义一个子类MyThread继承线程类java.lang.Thread，重写run()方法</li>
<li>创建MyThread类的对象</li>
<li>调用线程对象的start()方法启动线程（启动后还是执行run方法的）</li>
</ol>
<p>优点：编码简单<br>缺点：线程类已经继承Thread，无法继承其他类，不利于功能的扩展。</p>
<p>多线程的创建方式二：实现Runnable接口</p>
<ol>
<li>定义一个线程任务类MyRunnable实现Runnable接口，重写run()方法</li>
<li>创建MyRunnable任务对象</li>
<li>把MyRunnable任务对象交给Thread处理。</li>
<li>调用线程对象的start()方法启动线程</li>
</ol>
<p>优点：任务类只是实现接口，可以继续继承其他类、实现其他接口，扩展性强。<br>缺点：需要多一个Runnable对象。</p>
<p>多线程的第三种创建方式：利用Callable接口、FutureTask类来实现</p>
<ol>
<li>创建任务对象<br>定义一个类实现Callable接口，重写call方法，封装要做的事情，和要返回的数据。<br>把Callable类型的对象封装成FutureTask（线程任务对象）。</li>
<li>调用Thread对象的start方法启动线程。</li>
<li>线程执行完毕后、通过FutureTask对象的的get方法去获取线程任务执行的结果。</li>
</ol>
<p>优点：线程任务类只是实现接口，可以继续继承类和实现接口，扩展性强；可以在线程执行完毕后去获取线程执行的结果。</p>
<h3 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h3><p>反射指的是允许以编程方式访问已加载类的成分（成员变量、方法、构造器等）。</p>
<p>反射是在运行时获取类的字节码文件对象：然后可以解析类中的全部成分。</p>
<p>反射的核心思想和关键就是:得到编译以后的class文件对象。</p>
<p>反射作用：</p>
<ul>
<li>可以在运行时得到一个类的全部成分然后操作</li>
<li>可以破坏封装性</li>
<li>也可以破坏泛型的约束性</li>
<li>更重要的用途是适合：做Java高级框架</li>
<li>基本上主流框架都会基于反射设计一些通用技术功能</li>
</ul>
<h3 id="设计原则"><a href="#设计原则" class="headerlink" title="设计原则"></a>设计原则</h3><h4 id="单一职责原则"><a href="#单一职责原则" class="headerlink" title="单一职责原则"></a>单一职责原则</h4><p>一个对象应该只包含单一的职责，且该职责被完整地封装在一个类中。单一职责原则用于控制类的粒度大小。</p>
<h4 id="开闭原则"><a href="#开闭原则" class="headerlink" title="开闭原则"></a>开闭原则</h4><p>软件实体应该对扩展开放，对修改关闭。</p>
<h4 id="里氏替换原则"><a href="#里氏替换原则" class="headerlink" title="里氏替换原则"></a>里氏替换原则</h4><p>所有引用基类的地方必须能透明地使用其子类的对象。</p>
<p>子类可以扩展父类的功能，但不能改变父类原有的功能：</p>
<ul>
<li>子类可以实现父类的抽象方法，但不能覆盖父类的非抽象方法</li>
<li>子类可以增加自己特有的方法</li>
<li>当子类的方法重载父类的方法时，方法的前置条件要比父类的方法输入参数更宽松</li>
<li>当子类的方法实现父类的方法时，方法的输出、返回值比父类更严格或一样</li>
</ul>
<h4 id="依赖倒转原则"><a href="#依赖倒转原则" class="headerlink" title="依赖倒转原则"></a>依赖倒转原则</h4><p>高层模块不应依赖于底层模块，它们都应该依赖抽象。抽象不应该依赖于细节，细节应该依赖于抽象。</p>
<h4 id="接口隔离原则"><a href="#接口隔离原则" class="headerlink" title="接口隔离原则"></a>接口隔离原则</h4><p>客户端不应该依赖那些它不需要的接口。<br>接口隔离原则实际上是对接口的细化。</p>
<h4 id="合成复用原则"><a href="#合成复用原则" class="headerlink" title="合成复用原则"></a>合成复用原则</h4><p>优先使用对象组合，而不是用过继承打到复用的目的。</p>
<h4 id="迪米特法则"><a href="#迪米特法则" class="headerlink" title="迪米特法则"></a>迪米特法则</h4><p>迪米特法则（Law of Demeter）又称最少知识原则，是对程序内部数据交互的限制。</p>
<p>每一个软件单位对其他单位都只有最少的知识，而且局限于那些与本单位密切相关的软件单位。</p>
<p>简单来说就是，一个类&#x2F;模块对其他的类&#x2F;模块有越少的交互越好。当一个类发生改动，那么，与其相关的类（比如用到此类啥方法的类）需要尽可能少的受影响（比如修改了方法名、字段名等，可能其他用到这些方法或是字段的类也需要跟着修改）这样我们在维护项目的时候会更加轻松一些。</p>
<h3 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h3><p>软件设计模式（Design pattern），又称设计模式，是一套被反复使用、多数人知晓的、经过分类编目的、代码设计经验的总结。使用设计模式是为了可重用代码、让代码更容易被他人理解、保证代码可靠性、程序的重用性。</p>
<h4 id="工厂方法模式"><a href="#工厂方法模式" class="headerlink" title="工厂方法模式"></a>工厂方法模式</h4><p>根据迪米特法则，我们应该尽可能地少与其他类进行交互，所以我们可以将那些需要频繁出现的对象创建，封装到一个工厂类中，当我们需要对象时，直接调用工厂类中的工厂方法来为我们生成对象，这样，就算类出现了变动，我们也只需要修改工厂中的代码即可，而不是大面积地进行修改。</p>
<h4 id="抽象工厂模式"><a href="#抽象工厂模式" class="headerlink" title="抽象工厂模式"></a>抽象工厂模式</h4><p>抽象工厂（AbstractFactory）模式是一种为访问类提供一个创建一组相关或相互依赖对象的接口，且访问类无须指定所要产品的具体类就能得到同族的不同等级的产品的模式结构。抽象工厂模式是工厂方法模式的升级版本，工厂方法模式只生产一个等级的产品，而抽象工厂模式可生产多个等级的产品。</p>
<p>使用抽象工厂模式一般要满足以下条件。</p>
<ul>
<li>系统中有多个产品族，每个具体工厂创建同一族但属于不同等级结构的产品。</li>
<li>系统一次只可能消费其中某一族产品，即同族的产品一起使用。</li>
</ul>
<h4 id="建造者模式"><a href="#建造者模式" class="headerlink" title="建造者模式"></a>建造者模式</h4><p>相比直接去new一个新的对象，建造者模式的重心更加关注在如何完成每一步的配置，同时如果一个类的构造方法参数过多，我们通过建造者模式来创建这个对象，会更加优雅。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="type">int</span> id;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">int</span> grade;</span><br><span class="line">    String name;</span><br><span class="line">    String college;</span><br><span class="line">    String profession;</span><br><span class="line">    List&lt;String&gt; awards;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(<span class="type">int</span> id, <span class="type">int</span> age, <span class="type">int</span> grade, String name, String college, String profession, List&lt;String&gt; awards)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.grade = grade;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.college = college;</span><br><span class="line">        <span class="built_in">this</span>.profession = profession;</span><br><span class="line">        <span class="built_in">this</span>.awards = awards;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">1</span>, <span class="number">18</span>, <span class="number">3</span>, <span class="string">&quot;小明&quot;</span>, <span class="string">&quot;计算机学院&quot;</span>, <span class="string">&quot;计算机科学与技术&quot;</span>, Arrays.asList(<span class="string">&quot;ICPC-ACM 区域赛 金牌&quot;</span>, <span class="string">&quot;LPL 2022春季赛 冠军&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>更改为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">		...</span><br><span class="line"></span><br><span class="line">    <span class="comment">//一律使用建造者来创建，不对外直接开放</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Student</span><span class="params">(<span class="type">int</span> id, <span class="type">int</span> age, <span class="type">int</span> grade, String name, String college, String profession, List&lt;String&gt; awards)</span> &#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> StudentBuilder <span class="title function_">builder</span><span class="params">()</span>&#123;   <span class="comment">//通过builder方法直接获取建造者</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">StudentBuilder</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">StudentBuilder</span>&#123;   <span class="comment">//这里就直接创建一个内部类</span></span><br><span class="line">        <span class="comment">//Builder也需要将所有的参数都进行暂时保存，所以Student怎么定义的这里就怎么定义</span></span><br><span class="line">        <span class="type">int</span> id;</span><br><span class="line">        <span class="type">int</span> age;</span><br><span class="line">        <span class="type">int</span> grade;</span><br><span class="line">        String name;</span><br><span class="line">        String college;</span><br><span class="line">        String profession;</span><br><span class="line">        List&lt;String&gt; awards;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> StudentBuilder <span class="title function_">id</span><span class="params">(<span class="type">int</span> id)</span>&#123;    <span class="comment">//直接调用建造者对应的方法，为对应的属性赋值</span></span><br><span class="line">            <span class="built_in">this</span>.id = id;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>;   <span class="comment">//为了支持链式调用，这里直接返回建造者本身，下同</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> StudentBuilder <span class="title function_">age</span><span class="params">(<span class="type">int</span> age)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.age = age;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      </span><br><span class="line">      	...</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> StudentBuilder <span class="title function_">awards</span><span class="params">(String... awards)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.awards = Arrays.asList(awards);</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">public</span> Student <span class="title function_">build</span><span class="params">()</span>&#123;    <span class="comment">//最后我们只需要调用建造者提供的build方法即可根据我们的配置返回一个对象</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Student</span>(id, age, grade, name, college, profession, awards);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> Student.builder()   <span class="comment">//获取建造者</span></span><br><span class="line">            .id(<span class="number">1</span>)    <span class="comment">//逐步配置各个参数</span></span><br><span class="line">            .age(<span class="number">18</span>)</span><br><span class="line">            .grade(<span class="number">3</span>)</span><br><span class="line">            .name(<span class="string">&quot;小明&quot;</span>)</span><br><span class="line">            .awards(<span class="string">&quot;ICPC-ACM 区域赛 金牌&quot;</span>, <span class="string">&quot;LPL 2022春季赛 冠军&quot;</span>)</span><br><span class="line">            .build();   <span class="comment">//最后直接建造我们想要的对象</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h4><p>在我们的整个程序中，同一个类始终只会有一个对象来进行操作。比如数据库连接类，实际上我们只需要创建一个对象或是直接使用静态方法就可以了，没必要去创建多个对象。</p>
<p>静态内部类实现：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Holder</span> &#123;   <span class="comment">//由静态内部类持有单例对象，但是根据类加载特性，我们仅使用Singleton类时，不会对静态内部类进行初始化</span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">Singleton</span> <span class="variable">INSTANCE</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span>&#123;   <span class="comment">//只有真正使用内部类时，才会进行类初始化</span></span><br><span class="line">        <span class="keyword">return</span> Holder.INSTANCE;   <span class="comment">//直接获取内部类中的</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="原型模式"><a href="#原型模式" class="headerlink" title="原型模式"></a>原型模式</h4><p>原型模式使用原型实例指定待创建对象的类型，并且通过复制这个原型来创建新的对象。<br>在Java中，我们就可以使用Cloneable接口提供的拷贝机制，来实现原型模式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Cloneable</span>&#123;   <span class="comment">//注意需要实现Cloneable接口</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException &#123;   <span class="comment">//提升clone方法的访问权限</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.clone();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="类-对象适配器模式"><a href="#类-对象适配器模式" class="headerlink" title="类&#x2F;对象适配器模式"></a>类&#x2F;对象适配器模式</h4><p>Java中的适配器模式的核心思想是将一个类的接口转换成另一个类的接口，以便于这两个类能够协同工作。适配器模式通常用于以下情况：</p>
<ul>
<li>当现有的类的接口与系统的需要不一致时，可以使用适配器模式将这些类的接口转换为所需的接口。</li>
<li>当需要重用一些现有的类，但其接口并不符合要求时，可以使用适配器模式对其进行包装，从而使其能够符合系统的需要。</li>
<li>当需要建立一个可以复用的类，其在与多个类协同工作时具有不同的接口要求时，可以使用适配器模式将这些不同的接口统一起来。</li>
</ul>
<h4 id="桥接模式"><a href="#桥接模式" class="headerlink" title="桥接模式"></a>桥接模式</h4><p>桥接模式是将抽象部分与它的实现部分分离，使它们都可以独立地变化。它是一种对象结构型模式，又称为柄体(Handle and Body)模式或接口(Interfce)模式。</p>
<p>桥梁模式所涉及的角色有：</p>
<ul>
<li>抽象化(Abstraction)角色：抽象化给出的定义，并保存一个对实现化对象的引用。</li>
<li>修正抽象化(RefinedAbstraction)角色：扩展抽象化角色，改变和修正父类对抽象化的定义。</li>
<li>实现化(Implementor)角色：这个角色给出实现化角色的接口，但不给出具体的实现。必须指出的是，这个接口不一定和抽象化角色的接口定义相同，实际上，这两个接口可以非常不一样。实现化角色应当只给出底层操作，而抽象化角色应当只给出基于底层操作的更高一层的操作。</li>
<li>具体实现化(ConcreteImplementor)角色：这个角色给出实现化角色接口的具体实现。</li>
</ul>
<p>将m*n个实现类转换为m+n个实现类。</p>
<h4 id="组合模式"><a href="#组合模式" class="headerlink" title="组合模式"></a>组合模式</h4><p>组合模式实际上就是将多个组件进行组合，让用户可以对它们进行一致性处理。比如我们的文件夹，一个文件夹中可以有很多个子文件夹或是文件。</p>
<h4 id="装饰模式"><a href="#装饰模式" class="headerlink" title="装饰模式"></a>装饰模式</h4><p>装饰模式是一种结构型设计模式，允许你通过将对象放入包含行为的特殊封装对象中来为原对象绑定新的行为。</p>
<h4 id="代理模式"><a href="#代理模式" class="headerlink" title="代理模式"></a>代理模式</h4><p>代理模式是一种常见的设计模式，它允许你在不直接访问对象的情况下，通过一个代理对象来控制对该对象的访问。这个代理对象可以作为客户端和实际对象之间的中介，从而实现一些特定的控制功能，比如限制访问、记录访问日志等。</p>
<p>代理模式是一种结构型设计模式，它由三个主要角色组成：</p>
<p>抽象主题（Subject）：定义了代理和实际对象之间的共同接口。这个接口通常包含了代理对象需要实现的方法。</p>
<p>实际主题（Real Subject）：定义了代理对象所代表的实际对象。</p>
<p>代理（Proxy）：代理对象实现了抽象主题中的接口，并保存了对实际主题的引用。代理对象可以控制对实际对象的访问，比如限制访问或记录访问日志等。</p>
<p>应用场景</p>
<p>代理模式可以在多种场景下使用，包括但不限于以下几个方面：</p>
<p>访问控制：代理模式可以用来控制对实际对象的访问权限。比如，只有特定用户或角色才能访问某些敏感数据。</p>
<p>远程访问：代理模式可以用来处理远程对象的访问。比如，通过代理对象来访问远程Web服务。</p>
<p>延迟加载：代理模式可以用来实现延迟加载。比如，通过代理对象来加载某些资源或数据，以避免在程序启动时就加载所有数据。</p>
<p>缓存：代理模式可以用来实现缓存。比如，代理对象可以缓存一些频繁访问的数据或结果，以提高程序的性能。</p>
<p>远程代理：当需要在不同的进程或机器之间进行通信时，可以使用远程代理来封装和管理通信的过程和数据。</p>
<p>虚拟代理：当需要延迟加载或预加载大量数据时，可以使用虚拟代理来提高程序的性能和效率。</p>
<p>安全代理：当需要限制外部对对象的访问权限时，可以使用安全代理来实现访问控制和管理。</p>
<p>缓存代理：当需要对经常使用的数据进行缓存时，可以使用缓存代理来管理和优化数据的访问效率。</p>
<p>智能指针代理：当需要对对象进行内存管理和安全释放时，可以使用智能指针代理来管理对象的生命周期。</p>
<h4 id="外观模式"><a href="#外观模式" class="headerlink" title="外观模式"></a>外观模式</h4><p>外观模式充分体现了迪米特法则。可能我们的整个项目有很多个子系统，但是我们可以在这些子系统的上面加一个门面（Facade）当我们外部需要与各个子系统交互时，无需再去直接使用各个子系统，而是与门面进行交互，再由门面与后面的各个子系统操作，这样，我们以后需要办什么事情，就统一找门面就行了。这样的好处是，首先肯定方便了代码的编写，统一找门面就行，不需要去详细了解子系统，并且，当子系统需要修改时，也只需要修改门面中的逻辑，不需要大面积的变动，遵循迪米特法则尽可能少的交互。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SubSystemA</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;排队&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SubSystemB</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;结婚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SubSystemC</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;领证&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Facade</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">SubSystemA</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SubSystemA</span>();</span><br><span class="line">    <span class="type">SubSystemB</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SubSystemB</span>();</span><br><span class="line">    <span class="type">SubSystemC</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SubSystemC</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">marry</span><span class="params">()</span>&#123;   <span class="comment">//红白喜事一条龙服务</span></span><br><span class="line">        a.test1();</span><br><span class="line">        b.test2();</span><br><span class="line">        c.test3();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样就用一个类完成了所有流程。</p>
<h4 id="享元模式"><a href="#享元模式" class="headerlink" title="享元模式"></a>享元模式</h4><p>在某些情况下，一个应用程序可能需要创建大量相似的对象，这些对象之间的差异仅在于一些内部状态。如果为每个对象都分配独立的内存，会导致内存占用量急剧增加，降低系统的性能和效率。享元模式通过共享相同的对象实例，来减少对内存的需求。</p>
<p>享元模式的核心思想是将对象的状态分为内部状态和外部状态。内部状态是对象的固定部分，可以在多个对象之间共享，而外部状态是对象的变化部分，需要在使用时传递给对象。享元模式将内部状态存储在享元对象中，并将外部状态作为参数传递给方法。</p>
<p>享元模式包含以下几个关键组件：</p>
<ul>
<li>享元接口：定义了享元对象的通用接口，通过该接口可以获取内部状态和操作享元对象。</li>
<li>具体享元：实现了享元接口，并包含内部状态。具体享元对象需要是可共享的，也就是说它们可以在多个上下文中共享。</li>
<li>享元工厂：负责创建和管理享元对象。它维护一个享元池，用于存储已经创建的享元对象，以便在需要时进行复用。</li>
</ul>
<p>当客户端需要使用享元对象时，可以通过享元工厂获取对象的实例。如果享元池中已经存在相应的对象实例，则直接返回该实例；如果不存在，则创建一个新的享元对象并添加到享元池中。这样可以确保相同的对象在多个地方共享使用，减少内存消耗。</p>
<h4 id="解释器模式"><a href="#解释器模式" class="headerlink" title="解释器模式"></a>解释器模式</h4><p>解释器顾名思义，就是对我们的语言进行解释，根据不同的语义来做不同的事情，比如我们在SE中学习的双栈计算器，正是根据我们输入的算式，去进行解析，并根据不同的运算符来不断进行计算。</p>
<h4 id="模板方法模式"><a href="#模板方法模式" class="headerlink" title="模板方法模式"></a>模板方法模式</h4><p>某些操作是固定的，我们就可以直接在类中对应方法进行编写，但是可能某些操作需要视情况而定，由不同的子类实现来决定，这时，我们就需要让这些操作由子类来延迟实现了。现在我们就需要用到模板方法模式。</p>
<h4 id="责任链模式"><a href="#责任链模式" class="headerlink" title="责任链模式"></a>责任链模式</h4><p>责任链模式是一种设计模式。在责任链模式里，很多对象由每一个对象对其下家的引用而连接起来形成一条链。请求在这个链上传递，直到链上的某一个对象决定处理此请求。发出这个请求的客户端并不知道链上的哪一个对象最终处理这个请求，这使得系统可以在不影响客户端的情况下动态地重新组织和分配责任。</p>
<h4 id="命令模式"><a href="#命令模式" class="headerlink" title="命令模式"></a>命令模式</h4><p>我们日常的开发就很好地体现出了命令模式，比如：领导将开发任务指派给程序员去完成。其中领导就是“命令的发布者（调用者）”，程序员就是“命令的具体执行者（接收者）”，这个指派的动作就是“具体的命令”。命令将调用者和接收者进行连接，从而完成开发任务，这一套流程就可以看作是命令模式的执行原理。</p>
<p>命令模式使得请求的发送者与请求的执行者之间消除耦合，让对象之间的调用关系更加灵活。在命令模式中，会将一个命令封装成一个对象，同时命令模式也支持可撤销的操作。</p>
<h4 id="迭代器模式"><a href="#迭代器模式" class="headerlink" title="迭代器模式"></a>迭代器模式</h4><p>在现实生活以及程序设计中，经常要访问一个聚合对象中的各个元素，如“数据结构”中的链表遍历，通常的做法是将链表的创建和遍历都放在同一个类中，但这种方式不利于程序的扩展，如果要更换遍历方法就必须修改程序源代码，这违背了 “开闭原则”。</p>
<p>“迭代器模式”能较好地克服以上缺点，它在客户访问类与聚合类之间插入一个迭代器，这分离了聚合对象与其遍历行为，对客户也隐藏了其内部细节，且满足“单一职责原则”和“开闭原则”，如 Java 中的 Collection、List、Set、Map 等都包含了迭代器。</p>
<h4 id="中介者模式"><a href="#中介者模式" class="headerlink" title="中介者模式"></a>中介者模式</h4><p>在现实生活中，常常会出现好多对象之间存在复杂的交互关系，这种交互关系常常是“网状结构”，它要求每个对象都必须知道它需要交互的对象。例如，每个人必须记住他（她）所有朋友的电话；而且，朋友中如果有人的电话修改了，他（她）必须让其他所有的朋友一起修改，这叫作“牵一发而动全身”，非常复杂。</p>
<p>如果把这种“网状结构”改为“星形结构”的话，将大大降低它们之间的“耦合性”，这时只要找一个“中介者”就可以了。如前面所说的“每个人必须记住所有朋友电话”的问题，只要在网上建立一个每个朋友都可以访问的“通信录”就解决了。这样的例子还有很多，例如，你刚刚参加工作想租房，可以找“房屋中介”；或者，自己刚刚到一个陌生城市找工作，可以找“人才交流中心”帮忙。</p>
<p>在软件的开发过程中，这样的例子也很多，例如，在 MVC 框架中，控制器（C）就是模型（M）和视图（V）的中介者；还有大家常用的 QQ 聊天程序的“中介者”是 QQ 服务器。所有这些，都可以采用“中介者模式”来实现，它将大大降低对象之间的耦合性，提高系统的灵活性。</p>
<h4 id="备忘录模式"><a href="#备忘录模式" class="headerlink" title="备忘录模式"></a>备忘录模式</h4><p>备忘录模式通过引入“备忘录”对象，允许在不暴露对象内部结构的情况下，捕获并存储对象的状态。同时，它还提供了一种将对象恢复到之前状态的方式。</p>
<h4 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h4><p>在Java中，一个对象的状态发生改变，可能就会影响到其他的对象，与之相关的对象可能也会联动的进行改变。还有我们之前遇到过的监听器机制，当具体的事件触发时，我们在一开始创建的监听器就可以执行相关的逻辑。我们可以使用观察者模式来实现这样的功能，当对象发生改变时，观察者能够立即观察到并进行一些联动操作。</p>
<h4 id="状态模式"><a href="#状态模式" class="headerlink" title="状态模式"></a>状态模式</h4><p>对象可能存在很多种状态，在不同的状态下会有不同的行为，我们就可以通过状态模式来实现。</p>
<h4 id="策略模式"><a href="#策略模式" class="headerlink" title="策略模式"></a>策略模式</h4><p>我们可以为对象设定一种策略，这样对象之后的行为就会按照我们在一开始指定的策略而决定了，看起来和前面的状态模式很像，但是，它与状态模式的区别在于，这种转换是“主动”的，是由我们去指定，而状态模式，可能是在运行过程中自动切换的。比如线程池的拒绝策略。</p>
<h4 id="访问者模式"><a href="#访问者模式" class="headerlink" title="访问者模式"></a>访问者模式</h4><p>访问者模式是一种行为型设计模式，它可以将算法与对象结构分离开来，使得算法可以独立于对象来变化。该模式主要解决的问题是在不修改对象自身的基础上，对对象的结构进行增删改等操作。</p>
<p>在访问者模式中，对象结构包含多个具体元素，每个具体元素都可以接受一个访问者进行访问，而访问者可以对不同的具体元素进行不同的操作。</p>
<p>在此过程中，访问者可以通过访问具体元素所提供的接口来访问和操作具体元素。</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/structure/" rel="tag"># structure</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2024/04/15/database/" rel="prev" title="《数据库系统原理》期末复习笔记">
                  <i class="fa fa-angle-left"></i> 《数据库系统原理》期末复习笔记
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2024/04/15/network/" rel="next" title="《计算机网络》期末复习笔记">
                  《计算机网络》期末复习笔记 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">沪ICP备20002839号-1 </a>
  </div>
  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">SmallY</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
